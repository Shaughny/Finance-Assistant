(this.webpackJsonppfinance=this.webpackJsonppfinance||[]).push([[0],{201:function(e,t,n){},202:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(68),a=n.n(s),r=n(0),i=function(){return Object(r.jsx)("div",{className:"head",children:Object(r.jsx)("h1",{children:"Financial Assistant"})})},o=n(2),l=n(12),j=n(13),d=n.n(j),u=Object(c.createContext)(),b=function(e){var t=e.children,n=Object(c.useState)([]),s=Object(l.a)(n,2),a=s[0],i=s[1],j=function(){try{d.a.get("https://pers-finance.herokuapp.com/trans/get").then((function(e){i(e.data)}))}catch(e){console.log(e.message)}};Object(c.useEffect)((function(){j()}),[]);return Object(r.jsx)(u.Provider,{value:{data:a,addExpense:function(e,t){try{d.a.post("https://pers-finance.herokuapp.com/trans/insert",{type:e,total:t,isincome:!1}).then((function(){})),i([].concat(Object(o.a)(a),[{type:e,total:t,isincome:!1,trans_id:null}]))}catch(n){console.log(n.message)}},addIncome:function(e,t){try{d.a.post("https://pers-finance.herokuapp.com//trans/insert",{type:e,total:t,isincome:!0}).then((function(){})),i([].concat(Object(o.a)(a),[{type:e,total:t,isincome:!0,trans_id:null}]))}catch(n){console.log(n.message)}},deleteData:function(e){if(null==e.trans_id){d.a.delete("https://pers-finance.herokuapp.com/trans/delete/".concat(e.type)).then((function(){j()}));var t=a.filter((function(t){return t.type!==e.type&&t.total!==e.total}));i(t)}else{var n=e.trans_id;d.a.delete("https://pers-finance.herokuapp.com/trans/delete/".concat(n)).then((function(){j()}));var c=a.filter((function(e){return e.trans_id!==n}));i(c)}}},children:t})},h=function(){var e=Object(c.useContext)(u).data,t=e.filter((function(e){return!e.isincome})),n=e.filter((function(e){return e.isincome})),s=0,a=0;return n.forEach((function(e){return a=parseInt(a)+parseInt(e.total)})),t.forEach((function(e){return s=parseInt(s)+parseInt(e.total)})),Object(r.jsxs)("div",{className:"totals-container",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{id:"income-head",children:"Total Income"}),Object(r.jsxs)("p",{className:"total-income total",children:["$",a]})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{id:"expense-head",children:"Total Expenses"}),Object(r.jsxs)("p",{className:"total-expenses total",children:["$",s]})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Net"}),Object(r.jsxs)("p",{className:"total-net total",children:["$",a-s]})]})]})},p=function(e){var t=Object(c.useContext)(u).deleteData;return Object(r.jsxs)("li",{className:"income-item",children:[Object(r.jsx)("button",{className:"dlt",onClick:function(){return t(e.income)},children:"x"}),e.income.type,Object(r.jsxs)("span",{className:"income-detail",children:["$",e.income.total]})]})},x=function(e){var t=Object(c.useContext)(u).deleteData;return Object(r.jsxs)("li",{className:"expense-item",children:[Object(r.jsx)("button",{className:"dlt",onClick:function(){return t(e.expense)},children:"x"})," ",e.expense.type,Object(r.jsxs)("span",{className:"expense-detail",children:["$",e.expense.total]})]})},O=function(){var e=Object(c.useContext)(u).data,t=e.filter((function(e){return!e.isincome})),n=e.filter((function(e){return e.isincome}));return console.log(n),console.log(t),Object(r.jsxs)("div",{className:"details",children:[Object(r.jsxs)("div",{className:"incomes",children:[Object(r.jsx)("h4",{children:"Monthly income(s)"}),Object(r.jsx)("hr",{}),Object(r.jsx)("ul",{children:n.map((function(e){return Object(r.jsx)(p,{income:e},e.trans_id)}))})]}),Object(r.jsxs)("div",{className:"expenses",children:[Object(r.jsx)("h4",{children:"Monthly expense(s)"}),Object(r.jsx)("hr",{}),Object(r.jsx)("ul",{children:t.map((function(e){return Object(r.jsx)(x,{expense:e},e.trans_id)}))})]})]})},f=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(l.a)(a,2),o=i[0],j=i[1],d=Object(c.useState)("income"),b=Object(l.a)(d,2),h=b[0],p=b[1],x=Object(c.useContext)(u).addIncome,O=Object(c.useContext)(u).addExpense;return Object(r.jsxs)("div",{className:"add",children:[Object(r.jsx)("br",{}),Object(r.jsx)("h4",{id:"add",children:"Add Income or Expense"}),Object(r.jsx)("hr",{}),Object(r.jsx)("br",{}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"income"===h?(x(n,o),s(""),e.target.reset()):(O(n,o),s(""),e.target.reset())},children:[Object(r.jsxs)("div",{className:"add-type",children:[Object(r.jsx)("label",{htmlFor:"text",children:"Type: "}),Object(r.jsx)("input",{type:"text",value:n,required:!0,onChange:function(e){return s(e.target.value)},placeholder:"Enter Type"})]}),Object(r.jsxs)("div",{className:"add-total",children:[Object(r.jsx)("label",{htmlFor:"total",children:"Total: "}),Object(r.jsx)("input",{type:"number",onChange:function(e){return j(e.target.value)},placeholder:"Enter Total"})]}),Object(r.jsx)("button",{type:"submit",className:"btn",children:"Add"}),Object(r.jsx)("div",{className:"select",children:Object(r.jsxs)("select",{value:h,onChange:function(e){p(e.target.value)},children:[Object(r.jsx)("option",{value:"income",children:"Income"}),Object(r.jsx)("option",{value:"expense",children:"Expense"})]})})]})]})},m=n(71),v=function(){var e=Object(c.useContext)(u).data,t=e.filter((function(e){return!e.isincome})),n=e.filter((function(e){return e.isincome})),s=0,a=0;n.forEach((function(e){return a=parseInt(a)+parseInt(e.total)})),t.forEach((function(e){return s=parseInt(s)+parseInt(e.total)}));var i={};return i={fontColor:"white",font:{size:20},labels:["Expenses","Remaining"],datasets:[{borderColor:"#474b4f",label:"transactions",data:[s,a-s],backgroundColor:["#ff0000","white"]}]},a-s<0&&(i={fontColor:"white",font:{size:20},labels:["Expenses","Remaining"],datasets:[{borderColor:"#474b4f",label:"transactions",data:[s,0],backgroundColor:["#ff0000","white"]}]}),s+a>0?Object(r.jsx)("div",{className:"charts",children:Object(r.jsx)(m.a,{data:i,height:100,width:100,options:{plugins:{tooltip:{bodyFont:{size:18}},legend:{labels:{color:"white",font:{size:20}},borderWidth:0}},elements:{arc:{borderWidth:2}}}})}):Object(r.jsx)("div",{})};n(201);var g=function(){return Object(r.jsx)(b,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(i,{}),Object(r.jsxs)("div",{className:"content",children:[Object(r.jsxs)("div",{className:"personal",children:[Object(r.jsx)(h,{}),Object(r.jsx)(O,{}),Object(r.jsx)(f,{})]}),Object(r.jsx)(v,{})]})]})})};a.a.render(Object(r.jsx)(g,{}),document.getElementById("root"))}},[[202,1,2]]]);
//# sourceMappingURL=main.e3b82be6.chunk.js.map