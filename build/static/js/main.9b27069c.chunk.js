(this.webpackJsonppfinance=this.webpackJsonppfinance||[]).push([[0],{208:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(29),a=n.n(s),r=n(0),o=function(){return Object(r.jsx)("div",{className:"head",children:Object(r.jsx)("h1",{children:"Personal Finance Tracker"})})},i=n(3),l=n(5),j=n(6),d=n.n(j),u=Object(c.createContext)(),b=function(e){var t=e.children,n=Object(c.useState)([]),s=Object(l.a)(n,2),a=s[0],o=s[1],j=function(){try{d.a.get("https://pers-finance.herokuapp.com/trans/get").then((function(e){o(e.data)}))}catch(e){console.log(e.message)}};Object(c.useEffect)((function(){j()}),[]);return Object(r.jsx)(u.Provider,{value:{data:a,addExpense:function(e,t){try{d.a.post("https://pers-finance.herokuapp.com/trans/insert",{type:e,total:t,isincome:!1}).then((function(){})),o([].concat(Object(i.a)(a),[{type:e,total:t,isincome:!1,trans_id:null}]))}catch(n){console.log(n.message)}},addIncome:function(e,t){try{d.a.post("https://pers-finance.herokuapp.com/trans/insert",{type:e,total:t,isincome:!0}).then((function(){})),o([].concat(Object(i.a)(a),[{type:e,total:t,isincome:!0,trans_id:null}]))}catch(n){console.log(n.message)}},deleteData:function(e){if(null==e.trans_id){d.a.delete("https://pers-finance.herokuapp.com/trans/delete/".concat(e.type)).then((function(){j()}));var t=a.filter((function(t){return t.type!==e.type&&t.total!==e.total}));o(t)}else{var n=e.trans_id;d.a.delete("https://pers-finance.herokuapp.com/trans/delete/".concat(n)).then((function(){j()}));var c=a.filter((function(e){return e.trans_id!==n}));o(c)}}},children:t})},h=function(){var e=Object(c.useContext)(u).data,t=[],n=[];e.forEach((function(e){e.isincome?n.push(e):t.push(e)}));var s=0,a=0;return n.forEach((function(e){return a=parseInt(a)+parseInt(e.total)})),t.forEach((function(e){return s=parseInt(s)+parseInt(e.total)})),Object(r.jsxs)("div",{className:"totals-container",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{id:"income-head",children:"Total Income"}),Object(r.jsxs)("p",{className:"total-income total",children:["$",a]})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{id:"expense-head",children:"Total Expenses"}),Object(r.jsxs)("p",{className:"total-expenses total",children:["$",s]})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Balance"}),Object(r.jsxs)("p",{className:"total-net total",children:["$",a-s]})]})]})},p=function(e){var t=Object(c.useContext)(u).deleteData;return Object(r.jsxs)("li",{className:"income-item",children:[Object(r.jsx)("button",{className:"dlt",onClick:function(){return t(e.income)},children:"x"}),e.income.type,Object(r.jsxs)("span",{className:"income-detail",children:["$",e.income.total]})]})},x=function(e){var t=Object(c.useContext)(u).deleteData;return Object(r.jsxs)("li",{className:"expense-item",children:[Object(r.jsx)("button",{className:"dlt",onClick:function(){return t(e.expense)},children:"x"})," ",e.expense.type,Object(r.jsxs)("span",{className:"expense-detail",children:["$",e.expense.total]})]})},O=function(){var e=Object(c.useContext)(u).data,t=e.filter((function(e){return!e.isincome})),n=e.filter((function(e){return e.isincome}));return Object(r.jsxs)("div",{className:"details",children:[Object(r.jsxs)("div",{className:"incomes",children:[Object(r.jsx)("h4",{children:"Monthly income(s)"}),Object(r.jsx)("hr",{}),Object(r.jsx)("ul",{children:n.map((function(e){return Object(r.jsx)(p,{income:e},e.trans_id)}))})]}),Object(r.jsxs)("div",{className:"expenses",children:[Object(r.jsx)("h4",{children:"Monthly expense(s)"}),Object(r.jsx)("hr",{}),Object(r.jsx)("ul",{children:t.map((function(e){return Object(r.jsx)(x,{expense:e},e.trans_id)}))})]})]})},m=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),o=Object(l.a)(a,2),i=o[0],j=o[1],d=Object(c.useState)("income"),b=Object(l.a)(d,2),h=b[0],p=b[1],x=Object(c.useContext)(u).addIncome,O=Object(c.useContext)(u).addExpense;return Object(r.jsxs)("div",{className:"add",children:[Object(r.jsx)("br",{}),Object(r.jsx)("hr",{}),Object(r.jsx)("br",{}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"income"===h?(x(n,i),s(""),e.target.reset()):(O(n,i),s(""),e.target.reset())},children:[Object(r.jsxs)("div",{className:"add-type",children:[Object(r.jsx)("label",{htmlFor:"text",children:"Type: "}),Object(r.jsx)("input",{type:"text",value:n,required:!0,onChange:function(e){return s(e.target.value)},placeholder:"Enter Type"})]}),Object(r.jsxs)("div",{className:"add-total",children:[Object(r.jsx)("label",{htmlFor:"total",children:"Total: "}),Object(r.jsx)("input",{type:"number",required:!0,onChange:function(e){return j(e.target.value)},placeholder:"Enter Total"})]}),Object(r.jsx)("button",{type:"submit",className:"btn",children:"Add"}),Object(r.jsx)("div",{className:"select",children:Object(r.jsxs)("select",{value:h,onChange:function(e){p(e.target.value)},children:[Object(r.jsx)("option",{value:"income",children:"Income"}),Object(r.jsx)("option",{value:"expense",children:"Expense"})]})})]})]})},f=n(79),v=function(){var e=Object(c.useContext)(u).data,t=e.filter((function(e){return!e.isincome})),n=e.filter((function(e){return e.isincome})),s=0,a=0;n.forEach((function(e){return a=parseInt(a)+parseInt(e.total)})),t.forEach((function(e){return s=parseInt(s)+parseInt(e.total)}));var o={};return o={fontColor:"white",font:{size:20},labels:["Spent","Remaining"],datasets:[{borderColor:"white",label:"transactions",data:[s,a-s],backgroundColor:["#ff0000","#61892f"]}]},a-s<0&&(o={fontColor:"white",font:{size:20},labels:["Spent","Remaining"],datasets:[{borderColor:"#474b4f",label:"transactions",data:[s,0],backgroundColor:["#ff0000","#61892f"]}]}),s+a>0?Object(r.jsx)("div",{className:"charts",children:Object(r.jsx)(f.a,{data:o,height:100,width:100,options:{plugins:{tooltip:{bodyFont:{size:18}},legend:{labels:{color:"white",font:{size:20}},borderWidth:0}},elements:{arc:{borderWidth:2}}}})}):Object(r.jsx)("div",{className:"empty-graph",children:Object(r.jsx)("h5",{children:"Add an Income/Expense for a Graph"})})},y=(n(208),n(19)),k=n.n(y),g=n(44),N=n(18),C=Object(c.createContext)(),S=d.a.create({baseURL:"https://www.alphavantage.co/query"});N.b.configure();var E=function(e){var t=e.children,n=Object(c.useState)([]),s=Object(l.a)(n,2),a=s[0],o=s[1],j=function(e){return S.get("",{params:{function:"GLOBAL_QUOTE",symbol:e,apikey:"3H68FKF113QNYK6X"}})},u=function(){var e=Object(g.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{d.a.get("https://pers-finance.herokuapp.com/stocks/get").then((function(e){o(e.data)}))}catch(t){console.log(t.message)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){u()}),[]);var b=function(){var e=Object(g.a)(k.a.mark((function e(t,n){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.toUpperCase());case 2:if(c=e.sent,console.log(c.data["Global Quote"]),void 0===c.data["Global Quote"]["01. symbol"])N.b.error("Couldn't locate a stock with that symbol!");else try{d.a.post("https://pers-finance.herokuapp.com/stocks/insert",{symbol:c.data["Global Quote"]["01. symbol"],price:c.data["Global Quote"]["05. price"],shares:n}).then((function(){})),o([].concat(Object(i.a)(a),[{symbol:c.data["Global Quote"]["01. symbol"],price:c.data["Global Quote"]["05. price"],shares:n}]))}catch(s){console.log(s.message)}case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.jsx)(C.Provider,{value:{investments:a,getStockQuote:j,deleteStock:function(e){d.a.delete("https://pers-finance.herokuapp.com/stocks/delete/".concat(e)).then((function(){u()}));var t=a.filter((function(t){return t.symbol!==e}));o(t)},addStock:b},children:t})},I=function(e){var t=Object(c.useContext)(C).deleteStock;return Object(r.jsxs)("li",{className:"stock-item",children:[Object(r.jsx)("button",{className:"dlt-stock",onClick:function(){return t(e.stock.symbol)},children:"x"}),e.stock.symbol.split(".")[0],Object(r.jsxs)("span",{className:"stock-price",children:["$",e.price]}),Object(r.jsx)("span",{children:e.stock.shares}),Object(r.jsxs)("span",{children:["$",parseInt(e.stock.price*e.stock.shares)]})]})},w=function(){var e=Object(c.useContext)(C).investments,t=0;return e.forEach((function(e){return t=e.price*e.shares+t})),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Investments"}),Object(r.jsxs)("h5",{children:["Total Value: ",Object(r.jsxs)("span",{id:"stock-totals",children:["$",parseInt(t)]})]})," ",Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:"stocks-headers",children:[Object(r.jsx)("span",{children:"Symbol"}),Object(r.jsx)("span",{children:"Price"}),Object(r.jsx)("span",{children:"Shares"}),Object(r.jsx)("span",{children:" Value"})]}),Object(r.jsx)("div",{className:"stocks",children:Object(r.jsx)("ul",{children:e.map((function(e){return Object(r.jsx)(I,{stock:e,price:parseFloat(e.price).toFixed(2)},e.symbol)}))})})]})},F=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(0),o=Object(l.a)(a,2),i=o[0],j=o[1],d=Object(c.useContext)(C).addStock;return Object(r.jsxs)("div",{className:"add add-stock",children:[Object(r.jsx)("br",{}),Object(r.jsx)("hr",{}),Object(r.jsx)("br",{}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(n,i),s(""),e.target.reset()},children:[Object(r.jsxs)("div",{className:"add-type",children:[Object(r.jsx)("label",{htmlFor:"text",children:"Symbol: "}),Object(r.jsx)("input",{type:"text",value:n,required:!0,onChange:function(e){return s(e.target.value)},placeholder:"Enter Stock Symbol"})]}),Object(r.jsxs)("div",{className:"add-total",children:[Object(r.jsx)("label",{htmlFor:"total",children:"Shares: "}),Object(r.jsx)("input",{type:"number",required:!0,onChange:function(e){return j(e.target.value)},placeholder:"Enter # of Shares Owned"})]}),Object(r.jsx)("button",{type:"submit",className:"btn",children:"Add"})]})]})},T=(n(210),n(76));var Q=function(){return Object(r.jsx)(b,{children:Object(r.jsxs)(E,{children:[Object(r.jsx)(N.a,{}),Object(r.jsxs)("div",{className:"App",children:[Object(r.jsxs)(T.a,{children:[Object(r.jsx)("title",{children:"Personal Finances Tracker"}),Object(r.jsx)("meta",{name:"description",content:"Track all of your personal finances!"})]}),Object(r.jsx)(o,{}),Object(r.jsxs)("div",{className:"content",children:[Object(r.jsxs)("div",{className:"personal",children:[Object(r.jsx)(h,{}),Object(r.jsx)(O,{}),Object(r.jsx)(m,{})]}),Object(r.jsx)(v,{}),Object(r.jsxs)("div",{className:"portfolio",children:[Object(r.jsx)(w,{}),Object(r.jsx)(F,{})]})]})]})]})})};a.a.render(Object(r.jsx)(Q,{}),document.getElementById("root"))}},[[213,1,2]]]);
//# sourceMappingURL=main.9b27069c.chunk.js.map