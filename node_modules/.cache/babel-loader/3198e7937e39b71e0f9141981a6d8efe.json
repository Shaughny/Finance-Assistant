{"ast":null,"code":"var _jsxFileName = \"/home/mark/Documents/Projects/personalFinance/FinanceAssistant/client/src/contexts/DataContext.js\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useState, useEffect } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DataContext = /*#__PURE__*/createContext();\nexport const DataContextProvider = ({\n  children\n}) => {\n  _s();\n\n  const [data, setData] = useState([]);\n\n  const getData = async () => {\n    try {\n      Axios.get('http://localhost:3001/trans/get').then(response => {\n        setData(response.data);\n      });\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, [data.length]);\n\n  const addExpense = async (type, total) => {\n    try {\n      Axios.post('http://localhost:3001/trans/insert', {\n        type: type,\n        total: total,\n        isincome: false\n      }).then(() => {\n        alert(\"I DID IT\");\n      });\n      setData([...data, {\n        type: type,\n        total: total,\n        isincome: false,\n        id: null\n      }]);\n    } catch (e) {\n      console.log(e.message);\n    }\n  }; //     const response = await fetch(\"/transactions\",{\n  //         method:\"POST\",\n  //         headers:{\"Content-Type\": \"application/json\"},\n  //         body: JSON.stringify(body)\n  //     });\n  //     setData([...data,{type:body.type,total:body.amount,isincome:false,id:body.id}])\n  // } catch (error) {\n  //     console.log(error.message)\n  // }\n\n\n  const addIncome = async (type, total) => {\n    try {\n      Axios.post('http://localhost:3001/trans/insert', {\n        type: type,\n        total: total,\n        isincome: true\n      }).then(() => {\n        alert(\"I DID IT\");\n      });\n      setData([...data, {\n        type: type,\n        total: total,\n        isincome: true,\n        id: null\n      }]);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  const deleteData = async id => {\n    Axios.delete('http://localhost:3001/trans/delete', id).then(() => {});\n    const temp = data.filter(e => e.trans_id !== id);\n    setData(temp);\n  };\n\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: {\n      data,\n      addExpense,\n      addIncome,\n      deleteData\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n};\n\n_s(DataContextProvider, \"j3shm0Wf/6tzJ/PeBDhWtWFBtEE=\");\n\n_c = DataContextProvider;\nexport default DataContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataContextProvider\");","map":{"version":3,"sources":["/home/mark/Documents/Projects/personalFinance/FinanceAssistant/client/src/contexts/DataContext.js"],"names":["React","createContext","useState","useEffect","v4","uuidv4","Axios","DataContext","DataContextProvider","children","data","setData","getData","get","then","response","error","console","log","message","length","addExpense","type","total","post","isincome","alert","id","e","addIncome","deleteData","delete","temp","filter","trans_id"],"mappings":"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","sourcesContent":["import React,{createContext, useState, useEffect} from 'react'\nimport {v4 as uuidv4} from 'uuid';\nimport Axios from 'axios';\n\n\nexport const DataContext = createContext();\n\nexport const DataContextProvider = ({children}) => {\n    \n    const[data, setData] = useState([\n    \n    ])\n    const getData = async() => {\n        try {\n           \n                Axios.get('http://localhost:3001/trans/get').then((response) =>{\n                setData(response.data)\n                })\n            \n        } catch (error) {\n            console.log(error.message);\n        }\n\n    }\n    \n    useEffect(() => {\n        getData();\n    },[data.length]);\n\n\n\n\n\n    const addExpense = async(type,total) =>{\n        try {\n\n            Axios.post('http://localhost:3001/trans/insert',\n            {type:type,\n            total:total,\n            isincome:false\n            }).then(()=>{\n                alert(\"I DID IT\");\n               \n            })\n         setData([...data,{type:type,total:total,isincome:false,id: null}])\n            \n        } \n        catch(e){\n           console.log(e.message) \n        }\n    }\n    //     const response = await fetch(\"/transactions\",{\n        //         method:\"POST\",\n        //         headers:{\"Content-Type\": \"application/json\"},\n        //         body: JSON.stringify(body)\n        //     });\n        //     setData([...data,{type:body.type,total:body.amount,isincome:false,id:body.id}])\n        // } catch (error) {\n        //     console.log(error.message)\n        // }\n    const addIncome = async (type,total) =>{\n\n        try {\n\n            Axios.post('http://localhost:3001/trans/insert',\n            {type:type,\n            total:total,\n            isincome:true\n            }).then(()=>{\n                alert(\"I DID IT\");\n               \n            })\n             setData([...data,{type:type,total:total,isincome:true,id: null}])\n        } \n        catch(e){\n           console.log(e.message) \n        }\n\n    }\n    const deleteData = async(id) =>{\n\n       Axios.delete('http://localhost:3001/trans/delete',id).then(()=>{\n\n       })\n\n        const temp = data.filter(e => e.trans_id !== id);\n        setData(temp);\n    }\n\n\n    return (\n        <DataContext.Provider value={{data,addExpense,addIncome,deleteData}}>\n            {children}\n        </DataContext.Provider>\n    )\n}\n\nexport default DataContextProvider;"]},"metadata":{},"sourceType":"module"}