{"ast":null,"code":"var _jsxFileName = \"/home/mark/Documents/Personal/Projects2021/personalFinance/FinanceAssistant/personalfinanceClientSide/Finance-Assistant/src/contexts/DataContext.js\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DataContext = /*#__PURE__*/createContext();\nexport const DataContextProvider = ({\n  children\n}) => {\n  _s();\n\n  const [data, setData] = useState([]);\n\n  const getData = () => {\n    try {\n      Axios.get('https://pers-finance.herokuapp.com/trans/get').then(response => {\n        setData(JSON.parse(response.data));\n      });\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const addExpense = (type, total) => {\n    try {\n      Axios.post('https://pers-finance.herokuapp.com/trans/insert', {\n        type: type,\n        total: total,\n        isincome: false\n      }).then(() => {});\n      setData([...data, {\n        type: type,\n        total: total,\n        isincome: false,\n        trans_id: null\n      }]);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  const addIncome = (type, total) => {\n    try {\n      Axios.post('https://pers-finance.herokuapp.com/trans/insert', {\n        type: type,\n        total: total,\n        isincome: true\n      }).then(() => {});\n      setData([...data, {\n        type: type,\n        total: total,\n        isincome: true,\n        trans_id: null\n      }]);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  const deleteData = trans => {\n    if (trans.trans_id == null) {\n      Axios.delete(`https://pers-finance.herokuapp.com/trans/delete/${trans.type}`).then(() => {\n        getData();\n      });\n      const temp = data.filter(e => e.type !== trans.type && e.total !== trans.total);\n      setData(temp);\n    } else {\n      const trans_id = trans.trans_id;\n      Axios.delete(`https://pers-finance.herokuapp.com/trans/delete/${trans_id}`).then(() => {\n        getData();\n      });\n      const temp = data.filter(e => e.trans_id !== trans_id);\n      setData(temp);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: {\n      data,\n      addExpense,\n      addIncome,\n      deleteData\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 9\n  }, this);\n};\n\n_s(DataContextProvider, \"j3shm0Wf/6tzJ/PeBDhWtWFBtEE=\");\n\n_c = DataContextProvider;\nexport default DataContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataContextProvider\");","map":{"version":3,"sources":["/home/mark/Documents/Personal/Projects2021/personalFinance/FinanceAssistant/personalfinanceClientSide/Finance-Assistant/src/contexts/DataContext.js"],"names":["React","createContext","useState","useEffect","Axios","DataContext","DataContextProvider","children","data","setData","getData","get","then","response","JSON","parse","error","console","log","message","addExpense","type","total","post","isincome","trans_id","e","addIncome","deleteData","trans","delete","temp","filter"],"mappings":"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","sourcesContent":["import React,{createContext, useState, useEffect} from 'react'\nimport Axios from 'axios';\n\n\nexport const DataContext = createContext();\n\nexport const DataContextProvider = ({children}) => {\n    \n    const[data, setData] = useState([\n    \n    ])\n    const getData =() => {\n        try {\n           \n                Axios.get('https://pers-finance.herokuapp.com/trans/get').then((response) =>{\n                setData(JSON.parse(response.data))\n                })\n            \n        } catch (error) {\n            console.log(error.message);\n        }\n\n    }\n\n     useEffect(() => {\n        getData();\n    },[]);\n\nconst addExpense = (type,total) =>{\n        try {\n\n            Axios.post('https://pers-finance.herokuapp.com/trans/insert',\n            {type:type,\n            total:total,\n            isincome:false\n            }).then(()=>{\n               \n            })\n         setData([...data,{type:type,total:total,isincome:false,trans_id:null}])\n            \n        } \n        catch(e){\n           console.log(e.message) \n        }\n    }\n    \n\n    const addIncome = (type,total) =>{\n\n        try {\n\n            Axios.post('https://pers-finance.herokuapp.com/trans/insert',\n            {type:type,\n            total:total,\n            isincome:true\n            }).then(()=>{\n               \n            })\n             setData([...data,{type:type,total:total,isincome:true,trans_id:null}])\n        } \n        catch(e){\n           console.log(e.message) \n        }\n\n    }\n    const deleteData = (trans) =>{\n       \n        if(trans.trans_id == null){\n\n            Axios.delete(`https://pers-finance.herokuapp.com/trans/delete/${trans.type}`).then(()=>{\n                getData();\n            })\n            \n            const temp = data.filter(e => e.type !== trans.type && e.total !== trans.total);\n            setData(temp);\n         }\n         else{\n                const trans_id = trans.trans_id;\n                        \n                Axios.delete(`https://pers-finance.herokuapp.com/trans/delete/${trans_id}`).then(()=>{\n                    getData();\n                 })\n         const temp = data.filter(e => e.trans_id !== trans_id);\n            setData(temp);\n         }\n\n       \n    }\n\n\n\n\n\n   \n\n\n\n\n\n    \n\n\n    return (\n        <DataContext.Provider value={{data,addExpense,addIncome,deleteData}}>\n            {children}\n        </DataContext.Provider>\n    )\n}\n\nexport default DataContextProvider;\n"]},"metadata":{},"sourceType":"module"}